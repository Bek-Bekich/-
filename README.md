Стандартизация:

Нормализация ФИО:
1) Замена цифровых символов, напоминающих буквы на них (Например : «0» заменить на о)
1) Удаление всех небуквенных символов (Например «, - . перенос строки и т. д.»)
2) Удаление повторяющихся и находящихся в начале или конце строки пробельных символов
3) Транслитерация
4) Приведение к нижнему регистру
5) Удаление явно повторяющихся слов (Например, если 2 раза написали имя), а также всяких оглы и т. д.

Нормализация email-ов:
1) Удаление всех небуквенных и не числовых символов (Например «, - . перенос строки и т. д.»). Мы также удаляем такие символы, как @ и . для более эффективного сравнения строк
2) Приведение к одному регистру

Нормализация номеров телефона:
1) Замена символов, напоминающих цифры на них (Например : «о» заменить на 0)
2) Удаление всех символов, кроме цифр
3) Если номер телефона начинается с “+7” заменить на 8 для улучшения точности поиска

Нормализация адресов:
1) Удаление всех небуквенных и не числовых символов (Например «, - . перенос строки и т. д.»)
2) Транслитерация
3) Замена цифровых символов, напоминающих буквы на них (Например : «0» заменить на о), если они находятся внутри слова
4) Удаление уточняющих слов (дом, улица, город)

Нормализация дат:
1) Приведение к реальной дате (Например 9177, на 1977)

Потоки

Есть 4 потока, из которых 3 выполняют обработку БД и отправляют стандартизированные данные в очередь 4 потока, который занимается распределение данных пользователей по “семьям”.
Когда 3 потока закончили обработку БД, в них распределяется существующая очередь из потока 4.
Семья - условный массив всех похожих строк по какому-то признаку имеющий собственный айди по которому будут записываться строки в результирующую БД

Очередь

Очередь представляет собой стэк стандартизированных записей, которые отправляются для сравнения и дальнейшей записи их айди в результирующую БД.

Сравнение

Сравнение представляет собой ряд алгоритмов направленных на нахождение “семей” текущих записей.
Алгоритмы:
Фонетическое блокирование:
Алгоритмы Soundex и Metaphone преобразуют слова в код, представляющий их звучание.
Например, «Сидоров» и «Сидаров» будут иметь одинаковый звуковой код, что позволит отнести их к одному блоку для дальнейшего сравнения.
Методы сопоставления записей
Расстояние Левенштейна:
Этот алгоритм подсчитывает минимальное количество операций (вставок, удалений, замен), которые нужны для преобразования одной строки в другую.
Пример: для строк «Иванов» и «Иванович» расстояние Левенштейна равно 3 (добавить «ич»).
Jaro-Winkler:
Этот алгоритм учитывает порядок символов и их позицию. Чем ближе начало строк друг к другу, тем выше их сходство.
Особенно полезен при сравнении имен, где небольшие изменения (например, «Александр» и «Александер») должны учитывать положение символов.
TF-IDF и косинусное сходство:
TF-IDF (Term Frequency-Inverse Document Frequency) помогает оценить значимость слов в тексте, а косинусное сходство определяет угол между векторами текстов.
Этот метод подходит для сравнения длинных строк, таких как адреса или описания.

Группировка в семьи

Группировка в “семьи” является собой структуризацией записей по их данным.
Чтобы выявить максимальную схожесть будем использовать данные этих записей. Назовем их критерии. У каждого критерия будет свой вес, который будет определен позже в процессе тестирования.

Важность критериев:
1) Пол
2) Дата
3) ФИО
4) Номер
5) Адрес
6) Почта

Если у этой строки нет семьи, создается для нее семья в которой она становится “мастер строкой”.

Мастер строка - запись имеющая наибольшее колличество данных пользователей в себе.

Если у этой строки есть семья, которая находится с помощью сравнения по критериям с мастер строками других семей, выясняем какая из строк (проверяемая и мастер строка) больше по количеству значений, ту и ставим мастер строкой для текующей семьи.

Если строка попала в семью, добавляем ее айди в результирующую БД
